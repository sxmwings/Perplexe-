<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hybrid Master 51</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <meta name="description" content="Programme d'entraînement Hybrid Master 51 pour 26 semaines.">
    <meta name="theme-color" content="#1c1c1c">
</head>
<body>

    <header>
        <h1 tabindex="0">Hybrid Master 51</h1>
        <div id="week-navigation">
            <button id="prev-week" aria-label="Semaine précédente" tabindex="0">◀</button>
            <span id="current-week-display" tabindex="0">Semaine 1 / 26</span>
            <button id="next-week" aria-label="Semaine suivante" tabindex="0">▶</button>
        </div>
        <input type="range" id="week-slider" min="1" max="26" value="1" aria-label="Sélectionner la semaine">
    </header>

    <main id="app-container">
        <div id="onboarding-hint" class="hint" style="display: none;" role="alert">
            <p><strong>Conseil:</strong> Pour une expérience optimale sur mobile, ouvrez ce fichier via un serveur web (comme GitHub Pages) ou directement dans <strong>Safari</strong> si vous êtes sur iPhone. Le protocole "file://" peut bloquer la sauvegarde.</p>
        </div>

        <section id="program-view">
            <div id="workouts-container">
                <p class="loading-text">Chargement du programme...</p>
            </div>
            <button id="finish-workout" class="primary-button" aria-label="Terminer la séance en cours et passer à la semaine suivante">Terminer la séance</button>
            <p id="last-save-info" class="hint" tabindex="0">Dernière sauvegarde : --:--</p>
        </section>

        <section id="stats-view" class="hidden">
            <h2 tabindex="0">Statistiques Hevy-like</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-value" id="stat-volume">0 kg</span>
                    <span class="stat-label">Volume Total</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="stat-sessions">0</span>
                    <span class="stat-label">Séances Complétées</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="stat-time">0h 0m</span>
                    <span class="stat-label">Temps Estimé (cumulé)</span>
                </div>
            </div>

            <h3>Répartition Musculaire</h3>
            <canvas id="muscle-chart" aria-label="Graphique de répartition par groupe musculaire"></canvas>

            <h3>Progression des Lifts (Poids Calculé)</h3>
            <canvas id="progression-chart" aria-label="Graphique de progression de 3 exercices majeurs sur 26 semaines avec marqueurs de deloads"></canvas>
        </section>

        <nav id="bottom-nav">
            <button id="nav-program" class="active" aria-label="Afficher le programme d'entraînement" tabindex="0">Programme</button>
            <button id="nav-stats" aria-label="Afficher les statistiques et la progression" tabindex="0">Stats</button>
        </nav>
    </main>

    <div id="rest-timer-overlay" style="display: none;" role="timer" aria-live="polite">
        <div id="timer-box">
            <p>Repos en cours...</p>
            <div id="timer-display" aria-atomic="true">00:00</div>
            <button id="timer-cancel" aria-label="Annuler le timer de repos">Passer le repos</button>
        </div>
    </div>

    <div id="selftest-overlay" style="display: none;" role="status">
        <div id="selftest-report">
            <h2>Rapport SelfTest</h2>
            <ul id="selftest-results">
                </ul>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
